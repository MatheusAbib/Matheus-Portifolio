{"ast":null,"code":"import{useEffect,useRef,useState}from'react';export function usePortfolioScroll(){const[isOverPortfolio,setIsOverPortfolio]=useState(false);const portfolioRef=useRef(null);const isProgrammaticNavigation=useRef(false);const navigationTimeout=useRef(null);const stopLenis=()=>{if(window.lenisInstance){window.lenisInstance.stop();}};const startLenis=()=>{if(window.lenisInstance&&!isOverPortfolio&&!isProgrammaticNavigation.current){window.lenisInstance.start();}};const setupNavigationLinks=()=>{const navLinks=document.querySelectorAll('.navmenu a[href^=\"#\"]');navLinks.forEach(link=>{link.addEventListener('click',function(e){const href=this.getAttribute('href');if(href==='#'||href==='')return;isProgrammaticNavigation.current=true;clearTimeout(navigationTimeout.current);navigationTimeout.current=setTimeout(()=>{isProgrammaticNavigation.current=false;},1500);const onScroll=()=>{clearTimeout(navigationTimeout.current);navigationTimeout.current=setTimeout(()=>{isProgrammaticNavigation.current=false;window.removeEventListener('scroll',onScroll);},500);};window.addEventListener('scroll',onScroll,{once:true});});});};const setupFooterNavigation=()=>{const footerLinks=document.querySelectorAll('.footer-links a[href^=\"#\"], .footer-nav a[href^=\"#\"]');footerLinks.forEach(link=>{link.addEventListener('click',function(){const href=this.getAttribute('href');if(href==='#'||href==='')return;isProgrammaticNavigation.current=true;clearTimeout(navigationTimeout.current);navigationTimeout.current=setTimeout(()=>{isProgrammaticNavigation.current=false;},1500);const onScroll=()=>{clearTimeout(navigationTimeout.current);navigationTimeout.current=setTimeout(()=>{isProgrammaticNavigation.current=false;window.removeEventListener('scroll',onScroll);},500);};window.addEventListener('scroll',onScroll,{once:true});});});};useEffect(()=>{const portfolioContainer=portfolioRef.current;if(!portfolioContainer)return;const checkAndRestartLenis=()=>{if(window.lenisInstance&&isProgrammaticNavigation.current){setTimeout(()=>{if(window.lenisInstance&&isProgrammaticNavigation.current){window.lenisInstance.start();isProgrammaticNavigation.current=false;}},800);}};const handleMouseEnter=()=>{if(isProgrammaticNavigation.current)return;setIsOverPortfolio(true);stopLenis();};const handleMouseLeave=()=>{setIsOverPortfolio(false);setTimeout(()=>{if(!isOverPortfolio&&!isProgrammaticNavigation.current){startLenis();}},50);};const handleWheel=e=>{e.stopPropagation();const currentScroll=portfolioContainer.scrollTop;const maxScroll=portfolioContainer.scrollHeight-portfolioContainer.clientHeight;if(currentScroll<=0&&e.deltaY<0||currentScroll>=maxScroll&&e.deltaY>0){startLenis();}};portfolioContainer.addEventListener('mouseenter',handleMouseEnter);portfolioContainer.addEventListener('mouseleave',handleMouseLeave);portfolioContainer.addEventListener('wheel',handleWheel,{passive:false});setupNavigationLinks();setupFooterNavigation();const lenisInterval=setInterval(checkAndRestartLenis,1000);return()=>{if(portfolioContainer){portfolioContainer.removeEventListener('mouseenter',handleMouseEnter);portfolioContainer.removeEventListener('mouseleave',handleMouseLeave);portfolioContainer.removeEventListener('wheel',handleWheel);}clearTimeout(navigationTimeout.current);clearInterval(lenisInterval);};},[isOverPortfolio]);return{portfolioRef};}","map":{"version":3,"names":["useEffect","useRef","useState","usePortfolioScroll","isOverPortfolio","setIsOverPortfolio","portfolioRef","isProgrammaticNavigation","navigationTimeout","stopLenis","window","lenisInstance","stop","startLenis","current","start","setupNavigationLinks","navLinks","document","querySelectorAll","forEach","link","addEventListener","e","href","getAttribute","clearTimeout","setTimeout","onScroll","removeEventListener","once","setupFooterNavigation","footerLinks","portfolioContainer","checkAndRestartLenis","handleMouseEnter","handleMouseLeave","handleWheel","stopPropagation","currentScroll","scrollTop","maxScroll","scrollHeight","clientHeight","deltaY","passive","lenisInterval","setInterval","clearInterval"],"sources":["C:/Users/97857/Desktop/projects/Portifolio - Copia/src/hooks/usePortfolioScroll.js"],"sourcesContent":["import { useEffect, useRef, useState } from 'react';\r\n\r\nexport function usePortfolioScroll() {\r\n  const [isOverPortfolio, setIsOverPortfolio] = useState(false);\r\n  const portfolioRef = useRef(null);\r\n  const isProgrammaticNavigation = useRef(false);\r\n  const navigationTimeout = useRef(null);\r\n\r\n  const stopLenis = () => {\r\n    if (window.lenisInstance) {\r\n      window.lenisInstance.stop();\r\n    }\r\n  };\r\n\r\n  const startLenis = () => {\r\n    if (window.lenisInstance && !isOverPortfolio && !isProgrammaticNavigation.current) {\r\n      window.lenisInstance.start();\r\n    }\r\n  };\r\n\r\n  const setupNavigationLinks = () => {\r\n    const navLinks = document.querySelectorAll('.navmenu a[href^=\"#\"]');\r\n    \r\n    navLinks.forEach(link => {\r\n      link.addEventListener('click', function(e) {\r\n        const href = this.getAttribute('href');\r\n        if (href === '#' || href === '') return;\r\n        \r\n        isProgrammaticNavigation.current = true;\r\n        clearTimeout(navigationTimeout.current);\r\n        \r\n        navigationTimeout.current = setTimeout(() => {\r\n          isProgrammaticNavigation.current = false;\r\n        }, 1500);\r\n        \r\n        const onScroll = () => {\r\n          clearTimeout(navigationTimeout.current);\r\n          navigationTimeout.current = setTimeout(() => {\r\n            isProgrammaticNavigation.current = false;\r\n            window.removeEventListener('scroll', onScroll);\r\n          }, 500);\r\n        };\r\n        \r\n        window.addEventListener('scroll', onScroll, { once: true });\r\n      });\r\n    });\r\n  };\r\n\r\n  const setupFooterNavigation = () => {\r\n    const footerLinks = document.querySelectorAll('.footer-links a[href^=\"#\"], .footer-nav a[href^=\"#\"]');\r\n    \r\n    footerLinks.forEach(link => {\r\n      link.addEventListener('click', function() {\r\n        const href = this.getAttribute('href');\r\n        if (href === '#' || href === '') return;\r\n        \r\n        isProgrammaticNavigation.current = true;\r\n        clearTimeout(navigationTimeout.current);\r\n        \r\n        navigationTimeout.current = setTimeout(() => {\r\n          isProgrammaticNavigation.current = false;\r\n        }, 1500);\r\n        \r\n        const onScroll = () => {\r\n          clearTimeout(navigationTimeout.current);\r\n          navigationTimeout.current = setTimeout(() => {\r\n            isProgrammaticNavigation.current = false;\r\n            window.removeEventListener('scroll', onScroll);\r\n          }, 500);\r\n        };\r\n        \r\n        window.addEventListener('scroll', onScroll, { once: true });\r\n      });\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    const portfolioContainer = portfolioRef.current;\r\n    \r\n    if (!portfolioContainer) return;\r\n\r\n    const checkAndRestartLenis = () => {\r\n      if (window.lenisInstance && isProgrammaticNavigation.current) {\r\n        setTimeout(() => {\r\n          if (window.lenisInstance && isProgrammaticNavigation.current) {\r\n            window.lenisInstance.start();\r\n            isProgrammaticNavigation.current = false;\r\n          }\r\n        }, 800);\r\n      }\r\n    };\r\n\r\n    const handleMouseEnter = () => {\r\n      if (isProgrammaticNavigation.current) return;\r\n      setIsOverPortfolio(true);\r\n      stopLenis();\r\n    };\r\n\r\n    const handleMouseLeave = () => {\r\n      setIsOverPortfolio(false);\r\n      \r\n      setTimeout(() => {\r\n        if (!isOverPortfolio && !isProgrammaticNavigation.current) {\r\n          startLenis();\r\n        }\r\n      }, 50);\r\n    };\r\n\r\n    const handleWheel = (e) => {\r\n      e.stopPropagation();\r\n      \r\n      const currentScroll = portfolioContainer.scrollTop;\r\n      const maxScroll = portfolioContainer.scrollHeight - portfolioContainer.clientHeight;\r\n      \r\n      if ((currentScroll <= 0 && e.deltaY < 0) || (currentScroll >= maxScroll && e.deltaY > 0)) {\r\n        startLenis();\r\n      }\r\n    };\r\n\r\n    portfolioContainer.addEventListener('mouseenter', handleMouseEnter);\r\n    portfolioContainer.addEventListener('mouseleave', handleMouseLeave);\r\n    portfolioContainer.addEventListener('wheel', handleWheel, { passive: false });\r\n\r\n    setupNavigationLinks();\r\n    setupFooterNavigation();\r\n    \r\n    const lenisInterval = setInterval(checkAndRestartLenis, 1000);\r\n\r\n    return () => {\r\n      if (portfolioContainer) {\r\n        portfolioContainer.removeEventListener('mouseenter', handleMouseEnter);\r\n        portfolioContainer.removeEventListener('mouseleave', handleMouseLeave);\r\n        portfolioContainer.removeEventListener('wheel', handleWheel);\r\n      }\r\n      clearTimeout(navigationTimeout.current);\r\n      clearInterval(lenisInterval);\r\n    };\r\n  }, [isOverPortfolio]);\r\n\r\n  return { portfolioRef };\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}